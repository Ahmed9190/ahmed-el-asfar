{"version":3,"sources":["components/toaster/toaser.tsx","components/SignIn/SignIn.jsx"],"names":["Toast","msg","type","time","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","error","SignIn","push","history","useCookies","setCookie","useState","loginData","setLoginData","onSubmit","e","preventDefault","axios","post","then","res","data","remember","maxAge","Math","pow","catch","response","oldData","password","email","className","Group","controlId","Control","name","value","placeholder","required","onChange","target","Check","checked","variant","to"],"mappings":"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","file":"static/js/9.9e689695.chunk.js","sourcesContent":["import { toast } from \"react-toastify\";\r\n\r\nexport const Toast = (msg: string, type: boolean, time: number = 2500) =>\r\n  type\r\n    ? toast.success(msg, {\r\n        position: \"bottom-left\",\r\n        autoClose: time,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      })\r\n    : toast.error(msg, {\r\n        position: \"bottom-left\",\r\n        autoClose: time,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n","import React, { useState } from \"react\";\r\nimport { Button, Col, Form } from \"react-bootstrap\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport \"./SignIn.scss\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { Toast } from \"./../toaster/toaser\";\r\n\r\nconst SignIn = ({ history: { push } }) => {\r\n  const [cookies, setCookie] = useCookies([\"userdata\"]);\r\n  const [loginData, setLoginData] = useState({});\r\n\r\n  const handleSubmitLogin = (e) => {\r\n    e.preventDefault();\r\n    axios\r\n      .post(\"/login\", loginData)\r\n      .then(({ data: res }) => {\r\n        setCookie(\r\n          \"userdata\",\r\n          res,\r\n          loginData.remember\r\n            ? {\r\n                maxAge: Math.pow(2, 31) - 1,\r\n              }\r\n            : null\r\n        );\r\n        Toast(\"تم تسجيل الدخول بنجاح\", true);\r\n        push(\"/\");\r\n      })\r\n      .catch((e) => {\r\n        if (e.response?.data === \"wrong password\") {\r\n          setLoginData((oldData) => ({ ...oldData, password: \"\" }));\r\n          Toast(\"كلمة مرور خاطئة\", false);\r\n        } else if (e.response?.data === \"not actived\") {\r\n          Toast(\r\n            \"لم يتم قبول الحساب بعد ، الرجاء الانتظار مراجعة الحساب\",\r\n            false,\r\n            5000\r\n          );\r\n        } else if (e.response?.data === \"disabled\") {\r\n          Toast(\"تم تعطيل الحساب\", false);\r\n        } else if (e.response?.data === \"not confirmed\") {\r\n          axios\r\n            .post(`/resend/${loginData.email}`)\r\n            .then(() => {\r\n              Toast(\r\n                \"لم يتم تأكيد الحساب حتى الآن ، تم ارسال رابط التأكيد عبر البريد الالكتروني مرة اخرى\",\r\n                false,\r\n                5000\r\n              );\r\n            })\r\n            .catch(() => Toast(\"حدث خطأ ما ، الرجاء المحاولة مرة أخرى\", false));\r\n        } else if (e.response?.data === \"wrong email\") {\r\n          Toast(\r\n            \"لا يوجد حساب بهذه البيانات ، الرجاء التأكد من البيانات \",\r\n            false\r\n          );\r\n          setLoginData((oldData) => ({ ...oldData, password: \"\" }));\r\n        } else Toast(\"حدث خطأ ما ، الرجاء المحاولة مرة أخرى\", false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Col>\r\n      <Form onSubmit={handleSubmitLogin} className=\"sign-in-form\">\r\n        <Form.Group controlId=\"formBasicEmail\">\r\n          <Form.Control\r\n            className=\"inputs-style\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={loginData?.email}\r\n            placeholder=\"البريد الإلكتروني\"\r\n            required\r\n            onChange={({ target: { value, name } }) =>\r\n              setLoginData((oldData) => ({ ...oldData, [name]: value }))\r\n            }\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-2\" controlId=\"formBasicPassword\">\r\n          <Form.Control\r\n            className=\"inputs-style\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={loginData?.password}\r\n            placeholder=\"كلمة المرور\"\r\n            required\r\n            onChange={({ target: { value, name } }) =>\r\n              setLoginData((oldData) => ({ ...oldData, [name]: value }))\r\n            }\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-1 checkbox\" controlId=\"formBasicCheckbox\">\r\n          <Form.Check\r\n            onChange={({ target: { checked } }) =>\r\n              setLoginData((oldData) => ({ ...oldData, remember: checked }))\r\n            }\r\n            type=\"checkbox\"\r\n          />\r\n          <label className=\"checkbox-label\">تذكرني</label>\r\n        </Form.Group>\r\n        <Button\r\n          className=\"sign-in-button-style\"\r\n          variant=\"primary\"\r\n          type=\"submit\"\r\n        >\r\n          تسجيل الدخول\r\n        </Button>\r\n        <div className=\"sign-in-buttons\">\r\n          <Link to=\"/account/signup\">\r\n            <span className=\"sign-in-buttons-style\">إنشاء حساب جديد</span>\r\n          </Link>\r\n          <Link to=\"/account/forgetpassword/1\">\r\n            <span className=\"sign-in-buttons-style\">استعادة كلمة المرور</span>\r\n          </Link>\r\n        </div>\r\n      </Form>\r\n    </Col>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n"],"sourceRoot":""}