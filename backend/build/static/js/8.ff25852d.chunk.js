(this["webpackJsonpahmed-el-asfar-ts"]=this["webpackJsonpahmed-el-asfar-ts"]||[]).push([[8],{168:function(e,t,n){},169:function(e,t,n){},171:function(e,t,n){},219:function(e,t,n){"use strict";n.r(t);var a,c=n(126),r=n(0),i=n(154),s=n(33),o=n(207),l=n(102),d=n(97),u=n(103),b=n(208),j=n(222),O=(n(168),n(216)),h=n(145),f=(n(169),n(109)),x=n(34),m=n(32),p=n.n(m),C=n(108),v=n(2),g=Object(x.b)((function(e){return{show:e.table.showDelete,deleteContributorData:e.table.editContributorData,tableContent:e.table.tableContent}}),(function(e){return{setShow:function(t){return e(Object(f.g)(t))},resetContributorData:function(){return e(Object(f.a)())},setTableContent:function(t){return e(Object(f.i)(t))}}}))((function(e){var t=e.show,n=e.setShow,a=e.deleteContributorData,c=e.setTableContent,r=e.tableContent,i=e.resetContributorData,s=function(){i(),n(!1)};return Object(v.jsxs)(O.a,{show:t,onHide:s,backdrop:"static",keyboard:!1,children:[Object(v.jsx)(O.a.Header,{style:{display:"flex",alignItems:"center"},className:"headerCloseButton",closeButton:!0,children:Object(v.jsx)(O.a.Title,{children:"\u062d\u0630\u0641"})}),Object(v.jsx)(O.a.Body,{children:"\u0647\u0644 \u0627\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0644\u062d\u0630\u0641"}),Object(v.jsxs)(O.a.Footer,{children:[Object(v.jsx)(h.a,{variant:"secondary",onClick:s,children:"\u0627\u0644\u063a\u0627\u0621"}),Object(v.jsx)(h.a,{onClick:function(){p.a.post("/deleteContributor",a).then((function(){Object(C.a)("\u062a\u0645 \u062d\u0630\u0641 "+a.name,!0),c(r.filter((function(e){return e.id!==a.id})))})).catch((function(){return Object(C.a)("\u062d\u062f\u062b \u062e\u0637\u0623 \u0645\u0627 \u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649",!1)})),i(),n(!1)},variant:"danger",children:"\u062d\u0630\u0641"})]})]})})),y=n(36),k=n(3),N=n(217),w=n(205),D=n(160),S=(n(146),n(147)),T=Object(x.b)((function(e){return{show:e.table.showEdit,editContributorData:e.table.editContributorData,requests:e.requests.requests,selectedRequest:e.requests.selectedRequest,tableContent:e.table.tableContent}}),(function(e){return{setShow:function(t){return e(Object(f.h)(t))},setEditContributorData:function(t){return e(Object(f.b)(t))},resetContributorData:function(){return e(Object(f.a)())},setTableContent:function(t){return e(Object(f.i)(t))}}}))((function(e){var t=e.show,n=e.setShow,a=e.editContributorData,c=e.setEditContributorData,i=e.resetContributorData,s=e.setTableContent,o=e.tableContent,u=Object(S.a)(a);Object(r.useEffect)((function(){var e=document.querySelectorAll("input")[3];12!==String(a["Civil Number"]).length&&"Civil Number"==(null===e||void 0===e?void 0:e.name)?null===e||void 0===e||e.setCustomValidity("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u062f\u062e\u0644 \u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0645\u062f\u0646\u064a \u0628\u0634\u0643\u0644 \u0635\u062d\u064a\u062d"):null===e||void 0===e||e.setCustomValidity("")}),[a]);var b=function(){i(),n(!1)};return Object(v.jsxs)(O.a,{show:t,onHide:b,backdrop:"static",keyboard:!1,children:[Object(v.jsx)(O.a.Header,{style:{display:"flex",alignItems:"center"},closeButton:!0,children:Object(v.jsx)(O.a.Title,{children:"\u062a\u0639\u062f\u064a\u0644"})}),Object(v.jsxs)(N.a,{onSubmit:function(e){e.preventDefault(),p.a.post("/editContributor",a).then((function(){Object(C.a)("\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 "+a.Name,!0),s(o.map((function(e){return e.id!==a.id?e:a})))})).catch((function(){return Object(C.a)("\u062d\u062f\u062b \u062e\u0637\u0623 \u0645\u0627 \u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649",!1)})),i(),n(!1)},className:"forget-password-page3-form",children:[u.map((function(e,t){var n=e.nameInput,r=e.type,i=e.value,s=e.name;return Object(v.jsxs)(w.a,{size:"sm",className:"mb-1 pl-3 pr-3 pt-2",children:[Object(v.jsx)(w.a.Prepend,{children:Object(v.jsx)(w.a.Text,{id:"inputGroup-sizing-sm",children:n})}),Object(v.jsx)(D.a,{value:i,name:s,onChange:function(e){var t=e.target,n=t.value,r=t.name;return c(Object(k.a)(Object(k.a)({},a),{},Object(y.a)({},r,n)))},type:r,"aria-label":"Small","aria-describedby":"inputGroup-sizing-sm",autoComplete:"off"})]},t)})),Object(v.jsx)("fieldset",{children:Object(v.jsx)(N.a.Group,{as:l.a,children:Object(v.jsxs)(d.a,{className:"radio-group",children:[Object(v.jsxs)("div",{className:"female-male",children:[Object(v.jsx)(N.a.Check,{type:"radio",name:"male",id:"maleRadio",checked:a.Type,onChange:function(e){e.target.name;return c(Object(k.a)(Object(k.a)({},a),{},{Type:!0}))}}),Object(v.jsx)(N.a.Label,{as:"legend",column:!0,children:"\u0630\u0643\u0631"})]}),Object(v.jsxs)("div",{className:"female-male",children:[Object(v.jsx)(N.a.Check,{type:"radio",name:"female",id:"femaleRadio",checked:!a.Type,onChange:function(e){e.target.name;return c(Object(k.a)(Object(k.a)({},a),{},{Type:!1}))}}),Object(v.jsx)(N.a.Label,{as:"legend",column:!0,children:"\u0627\u0646\u062b\u0649"})]})]})})}),Object(v.jsxs)(O.a.Footer,{children:[Object(v.jsx)(h.a,{variant:"secondary",onClick:b,children:"\u0627\u0644\u063a\u0627\u0621"}),Object(v.jsx)(h.a,{type:"submit",variant:"success",children:"\u062d\u0641\u0638"})]})]})]})})),q=n(149),E=n(150),F=n(151),P=n.n(F),B=n(152);!function(e){e[e.loading=0]="loading",e[e.loaded=1]="loaded",e[e.error=2]="error"}(a||(a={}));var I=n(107),R=Object(x.b)((function(e){return{query:e.table.query,selectedPage:e.table.selectedPage,data:e.table.tableContent}}),(function(e){return{setShowDelete:function(t){return e(Object(f.g)(t))},setShowEdit:function(t){return e(Object(f.h)(t))},setEditContributorData:function(t){return e(Object(f.b)(t))},setSelectedPage:function(t){return e(Object(f.e)(t))}}}))((function(e){var t=e.query,n=e.selectedPage,c=e.setSelectedPage,i=e.setShowDelete,O=e.setShowEdit,h=e.setEditContributorData,m=e.data,C=Object(I.a)(["userdata"]),y=Object(s.a)(C,1)[0],k=function(){var e=Object(x.c)(),t=Object(r.useState)(0),n=Object(s.a)(t,2),c=n[0],i=n[1],o=Object(r.useRef)(0),l=Object(r.useState)(a.loading),d=Object(s.a)(l,2),u=d[0],b=d[1],j=Object(r.useCallback)(function(){var t=Object(B.a)(P.a.mark((function t(n,c,r){var s,l;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.current=Math.random(),t.prev=1,b(a.loading),t.next=5,p.a.post("/listContributors",{pageNum:c,query:n,key:o.current,gender:r});case 5:s=t.sent,l=s.data,o.current===l.key&&(b(a.loaded),console.log("resData.list",l.list),e(Object(f.i)(l.list)),"number"===typeof l.count&&i(l.count)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),b(a.error);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n,a){return t.apply(this,arguments)}}(),[b,i,e]),O=Object(r.useMemo)((function(){return c>50?Math.ceil(c/50):1}),[c]);return{fetch:j,state:u,count:c,pages:O}}(),N=k.fetch,w=k.state,D=k.count,S=k.pages,F=Object(x.d)((function(e){return e.table.genderFilter}));Object(r.useEffect)((function(){N(t,n-1,F)}),[t,n,N,F]);var R=["\u0627\u0644\u0627\u0633\u0645","\u0627\u0644\u0639\u0627\u0626\u0644\u0629","\u0631\u0642\u0645 \u0627\u0644\u0635\u0646\u062f\u0648\u0642","\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0645\u062f\u0646\u064a","\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u064a\u0644\u0627\u062f","\u0627\u0644\u0646\u0648\u0639","\u0627\u0644\u0645\u0646\u0637\u0642\u0629","\u0627\u0644\u0642\u0637\u0639\u0629","\u0627\u0644\u0634\u0627\u0631\u0639","\u0627\u0644\u0645\u0646\u0632\u0644","\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u0636\u0645\u0627\u0645","\u0627\u0644\u0631\u0642\u0645 \u0627\u0644\u0627\u0644\u064a \u0644\u0644\u0639\u0646\u0648\u0627\u0646"];return"admin"===y.userdata.name&&R.push("\u0627\u0644\u0623\u0648\u0627\u0645\u0631"),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(o.a,{fluid:!0,className:"table-container",children:[Object(v.jsx)(l.a,{className:"table-body-container",children:Object(v.jsx)(d.a,{children:Object(v.jsx)("div",{className:"table-body-scroller",children:w===a.loading?Object(v.jsx)(u.a,{animation:"border"}):Object(v.jsxs)(b.a,{striped:!0,bordered:!0,hover:!0,children:[Object(v.jsx)("thead",{id:"old-hidden-header",children:Object(v.jsx)("tr",{children:R.map((function(e,t){return Object(v.jsx)("th",{children:e},t)}))})}),Object(v.jsx)("tbody",{children:m.map((function(e){var t,n;return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.Name}),Object(v.jsx)("td",{children:e.Family}),Object(v.jsx)("td",{children:e.Box}),Object(v.jsx)("td",{children:e["Civil Number"]}),Object(v.jsx)("td",{children:null===(t=e["Date of Birth"])||void 0===t?void 0:t.split("T")[0]}),Object(v.jsx)("td",{children:e.Type?"\u0630\u0643\u0631":"\u0623\u0646\u062b\u0649"}),Object(v.jsx)("td",{children:e.Region}),Object(v.jsx)("td",{children:e.Parcel}),Object(v.jsx)("td",{children:e.Street}),Object(v.jsx)("td",{children:e.House}),Object(v.jsx)("td",{children:null===(n=e["Date of Joining"])||void 0===n?void 0:n.split("T")[0]}),Object(v.jsx)("td",{children:e["Automated Number"]}),"admin"===y.userdata.name&&Object(v.jsx)("td",{children:Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(v.jsx)("div",{className:"table-action",onClick:function(){h(e),O(!0)},children:Object(v.jsx)(E.a,{fill:"#007BFF",width:"20px"})}),Object(v.jsx)("div",{className:"table-action",onClick:function(){h({id:e.id,name:e.Name}),i(!0)},children:Object(v.jsx)(q.a,{fill:"#DC3645",width:"20px"})})]})})]},e.id)}))})]})})})}),Object(v.jsx)(l.a,{className:"table-pagination",children:Object(v.jsx)(d.a,{children:Object(v.jsxs)(j.a,{color:"#343A40",className:"pagination",children:[Object(v.jsxs)("span",{className:"table-pagination-info",children:["\u0627\u0644\u0645\u0639\u0631\u0648\u0636 \u0645\u0646 ",50*n-49," \u0627\u0644\u0649"," ",S===n||D<50?D:50*n," ","\u0645\u0646 \u0623\u0635\u0644 ",D," \u0645\u0633\u0627\u0647\u0645"]}),Object(v.jsx)(j.a.First,{disabled:1===n,onClick:function(){return c(1)}}),Object(v.jsx)(j.a.Prev,{disabled:1===n,onClick:function(){return c(n-1)}}),Array(2).fill(0).map((function(e,t){return n>2-t?Object(v.jsx)(j.a.Item,{onClick:function(){return c(n-(2-t))},className:"paginationItemStyle",children:n-(2-t)},t):null})),Object(v.jsx)(j.a.Item,{active:!0,children:n}),Array(2).fill(0).map((function(e,t){return S>=n+(t+1)?Object(v.jsx)(j.a.Item,{onClick:function(){return c(n+(t+1))},children:n+(t+1)},t):null})),Object(v.jsx)(j.a.Next,{disabled:n>=S,onClick:function(){return c(n+1)}}),Object(v.jsx)(j.a.Last,{disabled:n>=S,onClick:function(){return c(S)}})]})})})]}),Object(v.jsx)(g,{}),Object(v.jsx)(T,{})]})}));n(171),t.default=function(e){return Object(c.a)(e),Object(v.jsxs)("div",{className:"table-page-conatainer",children:[Object(v.jsx)(i.a,{}),Object(v.jsx)(R,{})]})}}}]);
//# sourceMappingURL=8.ff25852d.chunk.js.map