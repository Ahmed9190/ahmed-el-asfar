{"version":3,"sources":["components/custom-table/utils.ts","components/delete-modal/delete-modal.tsx","components/edit-and-add-modal/edit-and-add-modal.tsx","components/custom-table/custom-table.tsx","pages/table-page/table-page.tsx"],"names":["TableState","connect","state","show","table","showDelete","deleteContributorData","editContributorData","tableContent","dispatch","setShow","setShowDelete","resetContributorData","resetEditContributorData","setTableContent","handleClose","Modal","onHide","backdrop","keyboard","Header","style","display","alignItems","className","closeButton","Title","Body","Footer","Button","variant","onClick","axios","post","then","Toast","name","filter","row","id","catch","showEdit","requests","selectedRequest","setShowEdit","setEditContributorData","data","editAndAddInputs","editAndAddInputsData","useEffect","date","document","querySelectorAll","String","length","setCustomValidity","Form","onSubmit","e","preventDefault","Name","map","i","nameInput","type","value","InputGroup","size","Prepend","Text","FormControl","onChange","target","aria-label","aria-describedby","autoComplete","Group","as","Row","Col","Check","checked","Type","Label","column","query","selectedPage","setSelectedPage","page","useCookies","cookies","useDispatch","useState","count","setCount","keyRef","useRef","loading","setState","fetch","useCallback","pageNum","gender","a","current","Math","random","key","resData","loaded","console","log","list","error","pages","useMemo","ceil","useApi","genderFilter","useSelector","columns","push","Container","fluid","Spinner","animation","Table","striped","bordered","hover","colTitle","contributor","Family","Box","split","Region","Parcel","Street","House","justifyContent","fill","width","Pagination","color","First","disabled","Prev","Array","r","Item","active","Next","Last","TablePage"],"mappings":"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","file":"static/js/8.ff25852d.chunk.js","sourcesContent":["import { useCallback, useMemo, useRef, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { setTableContent } from \"../../redux/table/table-actions\";\r\n\r\nexport interface IContributor {\r\n  id: number;\r\n  Box: number;\r\n  Name: string;\r\n  Family: string;\r\n  \"Civil Number\": string;\r\n  \"Date of Birth\": string;\r\n  Type: string;\r\n  Region: string;\r\n  Parcel: string;\r\n  House: string;\r\n  Street: string;\r\n  \"Date of Joining\": string;\r\n  \"Automated Number\": string;\r\n  Search: string;\r\n}\r\n\r\nexport enum TableState {\r\n  loading,\r\n  loaded,\r\n  error,\r\n}\r\ninterface IResponse {\r\n  count?: number;\r\n  list: IContributor[];\r\n  key: number;\r\n}\r\n\r\nexport const useApi = () => {\r\n  const dispatch = useDispatch();\r\n  // const [data, setData] = useState<IContributor[]>([]);\r\n  const [count, setCount] = useState<any>(0);\r\n  const keyRef = useRef<number>(0);\r\n  const [state, setState] = useState<TableState>(TableState.loading);\r\n  const fetch = useCallback(\r\n    async (query: string, pageNum: number, gender: any) => {\r\n      keyRef.current = Math.random();\r\n      try {\r\n        setState(TableState.loading);\r\n        const { data: resData }: { data: IResponse } = await axios.post(\r\n          \"/listContributors\",\r\n          {\r\n            pageNum,\r\n            query,\r\n            key: keyRef.current,\r\n            gender,\r\n          }\r\n        );\r\n        if (keyRef.current === resData.key) {\r\n          setState(TableState.loaded);\r\n          console.log(\"resData.list\", resData.list);\r\n          dispatch(setTableContent(resData.list));\r\n          if (typeof resData.count === \"number\") setCount(resData.count);\r\n        }\r\n      } catch (error) {\r\n        setState(TableState.error);\r\n      }\r\n    },\r\n    [setState, setCount, dispatch]\r\n  );\r\n  const pages = useMemo(() => {\r\n    if (count > 50) return Math.ceil(count / 50);\r\n    return 1;\r\n  }, [count]);\r\n  return { fetch, state, count, pages };\r\n};\r\n","import React from \"react\";\r\nimport { Modal, Button } from \"react-bootstrap\";\r\nimport \"./delete-modal.scss\";\r\nimport {\r\n  resetEditContributorData,\r\n  setShowDelete,\r\n  setTableContent,\r\n} from \"./../../redux/table/table-actions\";\r\nimport { connect } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { IContributor } from \"./../custom-table/utils\";\r\nimport { Toast } from \"./../toaster/toaser\";\r\n\r\ninterface DeleteModalProps {\r\n  show: boolean;\r\n  setShow: (show: boolean) => void;\r\n  deleteContributorData: any;\r\n  setTableContent: (tableContent: IContributor[]) => void;\r\n  tableContent: IContributor[];\r\n  resetContributorData: () => void;\r\n}\r\n\r\nconst DeleteModal = ({\r\n  show,\r\n  setShow,\r\n  deleteContributorData,\r\n  setTableContent,\r\n  tableContent,\r\n  resetContributorData,\r\n}: DeleteModalProps) => {\r\n  const handleClickDelete = () => {\r\n    axios\r\n      .post(\"/deleteContributor\", deleteContributorData)\r\n      .then(() => {\r\n        Toast(\"تم حذف \" + deleteContributorData.name, true);\r\n        setTableContent(\r\n          tableContent.filter((row) => row.id !== deleteContributorData.id)\r\n        );\r\n      })\r\n      .catch(() => Toast(\"حدث خطأ ما ، الرجاء المحاولة مرة أخرى\", false));\r\n    resetContributorData();\r\n    setShow(false);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    resetContributorData();\r\n    setShow(false);\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose} backdrop=\"static\" keyboard={false}>\r\n      <Modal.Header\r\n        style={{ display: \"flex\", alignItems: \"center\" }}\r\n        className=\"headerCloseButton\"\r\n        closeButton\r\n      >\r\n        <Modal.Title>حذف</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>هل انت متأكد من الحذف</Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={handleClose}>\r\n          الغاء\r\n        </Button>\r\n        <Button onClick={handleClickDelete} variant=\"danger\">\r\n          حذف\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  show: state.table.showDelete,\r\n  deleteContributorData: state.table.editContributorData,\r\n  tableContent: state.table.tableContent,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  setShow: (state: boolean) => dispatch(setShowDelete(state)),\r\n  resetContributorData: () => dispatch(resetEditContributorData()),\r\n  setTableContent: (tableContent: IContributor[]) =>\r\n    dispatch(setTableContent(tableContent)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DeleteModal);\r\n","import React, { useEffect } from \"react\";\r\nimport {\r\n  Modal,\r\n  Button,\r\n  InputGroup,\r\n  FormControl,\r\n  Col,\r\n  Form,\r\n  Row,\r\n} from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  resetEditContributorData,\r\n  setShowEdit,\r\n  setTableContent,\r\n} from \"../../redux/table/table-actions\";\r\nimport \"./edit-and-add-modal.scss\";\r\nimport { setEditContributorData } from \"./../../redux/table/table-actions\";\r\nimport editAndAddInputsData from \"./editAndAddInputsData\";\r\nimport axios from \"axios\";\r\nimport { IContributor } from \"./../custom-table/utils\";\r\nimport { Toast } from \"./../toaster/toaser\";\r\n\r\ninterface EditModalProps {\r\n  show: boolean;\r\n  setShow: (show: boolean) => void;\r\n  editContributorData: any;\r\n  setEditContributorData: (editContributorData: string) => void;\r\n  resetContributorData: () => void;\r\n  setTableContent: (tableContent: IContributor[]) => void;\r\n  tableContent: IContributor[];\r\n}\r\n\r\nconst EditAndAddModal = ({\r\n  show,\r\n  setShow,\r\n  editContributorData,\r\n  setEditContributorData,\r\n  resetContributorData,\r\n  setTableContent,\r\n  tableContent,\r\n}: EditModalProps) => {\r\n  const editAndAddInputs = editAndAddInputsData(editContributorData);\r\n\r\n  useEffect(() => {\r\n    const date = document.querySelectorAll(\"input\")[3];\r\n    if (\r\n      String(editContributorData[\"Civil Number\"]).length !== 12 &&\r\n      date?.name == \"Civil Number\"\r\n    ) {\r\n      date?.setCustomValidity(\"من فضلك أدخل الرقم المدني بشكل صحيح\");\r\n    } else {\r\n      date?.setCustomValidity(\"\");\r\n    }\r\n  }, [editContributorData]);\r\n\r\n  const handleClose = () => {\r\n    resetContributorData();\r\n    setShow(false);\r\n  };\r\n\r\n  const handleClickSubmit = (e: any) => {\r\n    e.preventDefault();\r\n    axios\r\n      .post(\"/editContributor\", editContributorData)\r\n      .then(() => {\r\n        Toast(\"تم تعديل \" + editContributorData.Name, true);\r\n        setTableContent(\r\n          tableContent.map((row) =>\r\n            row.id !== editContributorData.id ? row : editContributorData\r\n          )\r\n        );\r\n      })\r\n      .catch(() => Toast(\"حدث خطأ ما ، الرجاء المحاولة مرة أخرى\", false));\r\n    resetContributorData();\r\n    setShow(false);\r\n  };\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose} backdrop=\"static\" keyboard={false}>\r\n      <Modal.Header\r\n        style={{ display: \"flex\", alignItems: \"center\" }}\r\n        closeButton\r\n      >\r\n        <Modal.Title>تعديل</Modal.Title>\r\n      </Modal.Header>\r\n      <Form onSubmit={handleClickSubmit} className=\"forget-password-page3-form\">\r\n        {editAndAddInputs.map(({ nameInput, type, value, name }, i) => (\r\n          <InputGroup size=\"sm\" className=\"mb-1 pl-3 pr-3 pt-2\" key={i}>\r\n            <InputGroup.Prepend>\r\n              <InputGroup.Text\r\n                // style={{ width: \"90px\" }}\r\n                id=\"inputGroup-sizing-sm\"\r\n              >\r\n                {nameInput}\r\n              </InputGroup.Text>\r\n            </InputGroup.Prepend>\r\n            <FormControl\r\n              value={value}\r\n              name={name}\r\n              onChange={({ target: { value, name } }) =>\r\n                setEditContributorData({\r\n                  ...editContributorData,\r\n                  [name]: value,\r\n                })\r\n              }\r\n              type={type}\r\n              aria-label=\"Small\"\r\n              aria-describedby=\"inputGroup-sizing-sm\"\r\n              autoComplete=\"off\"\r\n            />\r\n          </InputGroup>\r\n        ))}\r\n        <fieldset>\r\n          <Form.Group as={Row}>\r\n            <Col className=\"radio-group\">\r\n              <div className=\"female-male\">\r\n                <Form.Check\r\n                  type=\"radio\"\r\n                  name=\"male\"\r\n                  id=\"maleRadio\"\r\n                  checked={editContributorData.Type}\r\n                  onChange={({ target: { name } }) =>\r\n                    setEditContributorData({\r\n                      ...editContributorData,\r\n                      Type: true,\r\n                    })\r\n                  }\r\n                />\r\n                <Form.Label as=\"legend\" column>\r\n                  ذكر\r\n                </Form.Label>\r\n              </div>\r\n              <div className=\"female-male\">\r\n                <Form.Check\r\n                  type=\"radio\"\r\n                  name=\"female\"\r\n                  id=\"femaleRadio\"\r\n                  checked={!editContributorData.Type}\r\n                  onChange={({ target: { name } }) =>\r\n                    setEditContributorData({\r\n                      ...editContributorData,\r\n                      Type: false,\r\n                    })\r\n                  }\r\n                />\r\n                <Form.Label as=\"legend\" column>\r\n                  انثى\r\n                </Form.Label>\r\n              </div>\r\n            </Col>\r\n          </Form.Group>\r\n        </fieldset>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            الغاء\r\n          </Button>\r\n          <Button type=\"submit\" variant=\"success\">\r\n            حفظ\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  show: state.table.showEdit,\r\n  editContributorData: state.table.editContributorData,\r\n  requests: state.requests.requests,\r\n  selectedRequest: state.requests.selectedRequest,\r\n  tableContent: state.table.tableContent,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  setShow: (state: boolean) => dispatch(setShowEdit(state)),\r\n  setEditContributorData: (data: any) => dispatch(setEditContributorData(data)),\r\n  resetContributorData: () => dispatch(resetEditContributorData()),\r\n  setTableContent: (tableContent: IContributor[]) =>\r\n    dispatch(setTableContent(tableContent)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(EditAndAddModal);\r\n","import React, { useEffect } from \"react\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Table,\r\n  Pagination,\r\n  Spinner,\r\n} from \"react-bootstrap\";\r\nimport \"./custom-table.scss\";\r\nimport DeleteModal from \"./../delete-modal/delete-modal\";\r\nimport EditAndAddModal from \"../edit-and-add-modal/edit-and-add-modal\";\r\nimport { ReactComponent as Trash } from \"../../assets/icons/delete.svg\";\r\nimport { ReactComponent as Edit } from \"../../assets/icons/edit.svg\";\r\nimport { IContributor, TableState, useApi } from \"./utils\";\r\nimport { connect, useSelector } from \"react-redux\";\r\nimport {\r\n  setEditContributorData,\r\n  setSelectedPage,\r\n  setShowDelete,\r\n  setShowEdit,\r\n} from \"./../../redux/table/table-actions\";\r\nimport { useCookies } from \"react-cookie\";\r\n\r\ninterface CustomTableProps {\r\n  query: string;\r\n  selectedPage: number;\r\n  setSelectedPage: (selectedPage: number) => void;\r\n  setShowDelete: any;\r\n  setShowEdit: any;\r\n  setEditContributorData: any;\r\n  data: IContributor[];\r\n}\r\n\r\nconst CustomTable = ({\r\n  query,\r\n  selectedPage,\r\n  setSelectedPage,\r\n  setShowDelete,\r\n  setShowEdit,\r\n  setEditContributorData,\r\n  data,\r\n}: CustomTableProps) => {\r\n  const [cookies] = useCookies([\"userdata\"]);\r\n  const { fetch, state, count, pages } = useApi();\r\n  const genderFilter = useSelector<any>((state) => state.table.genderFilter);\r\n  useEffect(() => {\r\n    fetch(query, selectedPage - 1, genderFilter);\r\n  }, [query, selectedPage, fetch, genderFilter]);\r\n  const columns = [\r\n    \"الاسم\",\r\n    \"العائلة\",\r\n    \"رقم الصندوق\",\r\n    \"الرقم المدني\",\r\n    \"تاريخ الميلاد\",\r\n    \"النوع\",\r\n    \"المنطقة\",\r\n    \"القطعة\",\r\n    \"الشارع\",\r\n    \"المنزل\",\r\n    \"تاريخ الانضمام\",\r\n    \"الرقم الالي للعنوان\",\r\n  ];\r\n  if (cookies[\"userdata\"].name === \"admin\") columns.push(\"الأوامر\");\r\n  // console.log(\"contributor\", data);\r\n  return (\r\n    <>\r\n      <Container fluid className=\"table-container\">\r\n        <Row className=\"table-body-container\">\r\n          <Col>\r\n            <div className=\"table-body-scroller\">\r\n              {state === TableState.loading ? (\r\n                <Spinner animation=\"border\" />\r\n              ) : (\r\n                <Table striped bordered hover>\r\n                  <thead id=\"old-hidden-header\">\r\n                    <tr>\r\n                      {columns.map((colTitle, i) => (\r\n                        <th key={i}>{colTitle}</th>\r\n                      ))}\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {data.map((contributor) => (\r\n                      <tr key={contributor.id}>\r\n                        <td>{contributor.Name}</td>\r\n                        <td>{contributor.Family}</td>\r\n                        <td>{contributor.Box}</td>\r\n                        <td>{contributor[\"Civil Number\"]}</td>\r\n                        <td>{contributor[\"Date of Birth\"]?.split(\"T\")[0]}</td>\r\n                        <td>{contributor.Type ? \"ذكر\" : \"أنثى\"}</td>\r\n                        <td>{contributor.Region}</td>\r\n                        <td>{contributor.Parcel}</td>\r\n                        <td>{contributor.Street}</td>\r\n                        <td>{contributor.House}</td>\r\n                        <td>{contributor[\"Date of Joining\"]?.split(\"T\")[0]}</td>\r\n                        <td>{contributor[\"Automated Number\"]}</td>\r\n\r\n                        {cookies[\"userdata\"].name === \"admin\" && (\r\n                          <td>\r\n                            <div\r\n                              style={{\r\n                                display: \"flex\",\r\n                                justifyContent: \"space-evenly\",\r\n                              }}\r\n                            >\r\n                              <div\r\n                                className=\"table-action\"\r\n                                onClick={() => {\r\n                                  setEditContributorData(contributor);\r\n                                  setShowEdit(true);\r\n                                }}\r\n                              >\r\n                                <Edit fill=\"#007BFF\" width=\"20px\" />\r\n                              </div>\r\n                              <div\r\n                                className=\"table-action\"\r\n                                onClick={() => {\r\n                                  setEditContributorData({\r\n                                    id: contributor.id,\r\n                                    name: contributor.Name,\r\n                                  });\r\n                                  setShowDelete(true);\r\n                                }}\r\n                              >\r\n                                <Trash fill=\"#DC3645\" width=\"20px\" />\r\n                              </div>\r\n                            </div>\r\n                          </td>\r\n                        )}\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </Table>\r\n              )}\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n        <Row className={\"table-pagination\"}>\r\n          <Col>\r\n            <Pagination color=\"#343A40\" className=\"pagination\">\r\n              <span className=\"table-pagination-info\">\r\n                المعروض من {selectedPage * 50 - 49} الى{\" \"}\r\n                {pages === selectedPage || count < 50\r\n                  ? count\r\n                  : selectedPage * 50}{\" \"}\r\n                من أصل {count} مساهم\r\n              </span>\r\n              <Pagination.First\r\n                disabled={selectedPage === 1}\r\n                onClick={() => setSelectedPage(1)}\r\n              />\r\n              <Pagination.Prev\r\n                disabled={selectedPage === 1}\r\n                onClick={() => setSelectedPage(selectedPage - 1)}\r\n              />\r\n              {Array(2)\r\n                .fill(0)\r\n                .map((r, i) =>\r\n                  selectedPage > 2 - i ? (\r\n                    <Pagination.Item\r\n                      key={i}\r\n                      onClick={() => setSelectedPage(selectedPage - (2 - i))}\r\n                      className=\"paginationItemStyle\"\r\n                    >\r\n                      {selectedPage - (2 - i)}\r\n                    </Pagination.Item>\r\n                  ) : null\r\n                )}\r\n              <Pagination.Item active>{selectedPage}</Pagination.Item>\r\n              {Array(2)\r\n                .fill(0)\r\n                .map((r, i) =>\r\n                  pages >= selectedPage + (i + 1) ? (\r\n                    <Pagination.Item\r\n                      key={i}\r\n                      onClick={() => setSelectedPage(selectedPage + (i + 1))}\r\n                    >\r\n                      {selectedPage + (i + 1)}\r\n                    </Pagination.Item>\r\n                  ) : null\r\n                )}\r\n              <Pagination.Next\r\n                disabled={selectedPage >= pages}\r\n                onClick={() => setSelectedPage(selectedPage + 1)}\r\n              />\r\n              <Pagination.Last\r\n                disabled={selectedPage >= pages}\r\n                onClick={() => setSelectedPage(pages)}\r\n              />\r\n            </Pagination>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n\r\n      <DeleteModal />\r\n      <EditAndAddModal />\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: any) => ({\r\n  query: state.table.query,\r\n  selectedPage: state.table.selectedPage,\r\n  data: state.table.tableContent,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch: any) => ({\r\n  setShowDelete: (state: boolean) => dispatch(setShowDelete(state)),\r\n  setShowEdit: (state: boolean) => dispatch(setShowEdit(state)),\r\n  setEditContributorData: (data: any) => dispatch(setEditContributorData(data)),\r\n  setSelectedPage: (page: number) => dispatch(setSelectedPage(page)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CustomTable);\r\n","import React, { useState } from \"react\";\r\nimport CustomNavbar from \"./../../components/navbar/custom-navbar\";\r\nimport CustomTable from \"./../../components/custom-table/custom-table\";\r\nimport \"./table-page.scss\";\r\ninterface TablePageProps {}\r\n\r\nconst TablePage = ({}: TablePageProps) => {\r\n  return (\r\n    <div className=\"table-page-conatainer\">\r\n      <CustomNavbar />\r\n      <CustomTable />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TablePage;\r\n"],"sourceRoot":""}